/* FILE: src/styles/PaperPlanner.css */

/* Core layout and section styles */
.section-card {
  margin-bottom: 0.5rem !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important; /* Improved smooth easing */
  border-color: #e5e7eb !important;
  position: relative;
  overflow: hidden;
  will-change: max-height, opacity; /* Optimize for animations */
}

.section-card.minimized {
  max-height: 60px;
  background-color: #f9fafb;
  cursor: pointer;
}

.section-card.minimized::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 8px;
  background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(243,244,246,0.8));
  pointer-events: none; /* Ensure gradient doesn't interfere with clicks */
}

.section-card.expanded {
  max-height: 2000px; /* Large value to accommodate any content size */
  background-color: #ffffff;
}

.section-card.minimized:hover {
  background-color: #f3f4f6;
  border-color: #d1d5db !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

.section-card textarea {
  background-color: transparent !important;
  border: none !important;
  padding: 0.25rem 0.5rem !important;
  line-height: 1.4 !important;
  width: 100%; /* Ensure textarea takes full width */
  display: block; /* Ensure proper block layout */
}

.section-card textarea:focus {
  box-shadow: none !important;
  border: none !important;
  background-color: #ffffff !important;
}

.section-card.expanded.current-active,
.section-card.minimized.current-active {
  border-color: #3b82f6 !important; /* blue-500 */
  background-color: #eff6ff !important; /* blue-50 */
}

.section-card.current-active textarea {
  background-color: #eff6ff !important; /* Same blue-50 background */
}

/* Improve hover state for active sections */
.section-card.minimized.current-active:hover {
  background-color: #dbeafe !important; /* blue-100 */
  /* border-left-color is sufficient, no need to override border-color */
}

/* Optional: Keep if .border-2 class is used somewhere without Tailwind */
/* .border-2 {
  border-width: 2px !important;
} */

/* Visual cue for minimized cards */
.section-card.minimized .minimize-toggle-btn {
  transform: rotate(180deg); /* Class added dynamically? Ensure it's present */
}

/* Indicator border for minimized cards */
.section-card.minimized:not(.current-active) {
  /* border-color: #e5e7eb !important; */ /* Base border color */
  border-left-width: 4px !important;
  border-left-color: #9ca3af !important; /* gray-400 */
}

.section-card.minimized.current-active {
  /* border-color: #3b82f6 !important; */ /* Active border color */
  border-left-width: 4px !important;
  border-left-color: #3b82f6 !important; /* blue-500 */
}

/* --- Animations (Keep as is) --- */
@keyframes minimizeCard { from { max-height: 2000px; opacity: 1; } to { max-height: 60px; opacity: 0.9; } }
@keyframes expandCard { from { max-height: 60px; } to { max-height: 2000px; } }
@keyframes fadeInExpand { from { opacity: 0; max-height: 0; } to { opacity: 1; max-height: 500px; } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes typing { 0% { transform: translateY(0px); opacity: 0.6; } 50% { transform: translateY(-5px); opacity: 1; } 100% { transform: translateY(0px); opacity: 0.6; } }

.animate-fade-in { animation: fadeIn 0.5s ease-out; }

/* --- Feedback Status Indicators (Keep as is) --- */
.status-indicator { width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; display: inline-block; }
.status-good { background-color: #10B981; } /* green-500 */
.status-fair { background-color: #F59E0B; } /* amber-500 */
.status-poor { background-color: #EF4444; } /* red-500 */
.status-none { background-color: #9CA3AF; } /* gray-400 */

/* --- Feedback Buttons --- */
/* Base style */
.feedback-button { display: inline-flex; align-items: center; justify-content: center; padding: 0.375rem 0.75rem; font-size: 0.875rem; font-weight: 500; line-height: 1.25rem; border-radius: 0.375rem; transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1); }
/* States */
.feedback-button-placeholder { background-color: #9ca3af; color: white; cursor: not-allowed; }
.feedback-button-loading { background-color: #a78bfa; color: white; cursor: wait; } /* violet-400 */
/* Default */
.feedback-button-default { background-color: #7c3aed; color: white; } /* violet-600 */
.feedback-button-default:hover { background-color: #6d28d9; } /* violet-700 */
/* Rating-based colors */
.feedback-button-1, .feedback-button-2, .feedback-button-3 { background-color: #ef4444; color: white; } /* red-500 */
.feedback-button-1:hover, .feedback-button-2:hover, .feedback-button-3:hover { background-color: #dc2626; } /* red-600 */
.feedback-button-4, .feedback-button-5 { background-color: #f97316; color: white; } /* orange-500 */
.feedback-button-4:hover, .feedback-button-5:hover { background-color: #ea580c; } /* orange-600 */
.feedback-button-6, .feedback-button-7 { background-color: #facc15; color: #374151; } /* yellow-400, gray-700 text */
.feedback-button-6:hover, .feedback-button-7:hover { background-color: #eab308; } /* yellow-500 */
.feedback-button-8, .feedback-button-9 { background-color: #84cc16; color: white; } /* lime-500 */
.feedback-button-8:hover, .feedback-button-9:hover { background-color: #65a30d; } /* lime-600 */
.feedback-button-10 { background-color: #22c55e; color: white; } /* green-500 */
.feedback-button-10:hover { background-color: #16a34a; } /* green-600 */
/* Override for completed in card */
.section-card .feedback-button-8, .section-card .feedback-button-9, .section-card .feedback-button-10 { background-color: #059669 !important; } /* green-600 */
.section-card .feedback-button-8:hover, .section-card .feedback-button-9:hover, .section-card .feedback-button-10:hover { background-color: #047857 !important; } /* green-700 */

/* --- Research approach and data toggles (Keep as is) --- */
.approach-toggle, .data-toggle { border-radius: 4px; padding-top: 0.25rem; margin-bottom: 0.75rem; }
.approach-toggle h3, .data-toggle h3 { border-bottom: 1px solid #f0f0f0; padding-bottom: 0.25rem; margin-bottom: 0.5rem; font-weight: 600; color: #374151; font-size: 0.95rem; }
.approach-toggle button, .data-toggle button { transition: all 0.2s ease; border: 1px solid transparent; padding: 0.375rem 0.75rem; border-radius: 0.25rem; font-size: 0.875rem; }
.approach-toggle button.active, .data-toggle button.active { font-weight: 600; color: #4f46e5; background-color: #eef2ff; } /* indigo-600 text, indigo-100 bg */

/* --- Chat interface styles (Keep as is, assuming mostly Tailwind) --- */
.prose-sm img { margin-top: 0; margin-bottom: 0; }
/* Removed specific .chat-header rules if Tailwind handles it in component */
.ai-avatar { width: 2rem; height: 2rem; background-color: white; border-radius: 9999px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #4f46e5; margin-right: 0.75rem; }
.message-bubble { border-radius: 0.5rem; padding: 0.75rem 1rem; display: inline-block; max-width: 80%; margin-bottom: 8px; }
.user-message { background-color: #4f46e5; color: white; border-top-right-radius: 0; }
.ai-message { background-color: white; border: 1px solid #e5e7eb; border-top-left-radius: 0; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); }
.ai-message-purple { background-color: #f5f3ff; border: 1px solid #e1d9fa; border-top-left-radius: 0; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); }
.message-content { word-break: break-word; }
.prose.prose-sm { font-size: 0.875rem; line-height: 1.5; }
/* Consider removing !important if possible */
.text-purple-700 { color: #6D28D9 !important; } /* purple-700 */
.prose-sm a, .prose-sm strong, .prose-sm h1, .prose-sm h2, .prose-sm h3, .prose-sm h4, .prose-sm code { color: #6D28D9; } /* purple-700 */
.prose-sm pre { background-color: #ede9fe; border: 1px solid #d8d4f0; } /* purple-100 bg, purple-200 border */
.prose-sm pre code { color: #5b21b6; } /* purple-800 */
/* Green text styles */
.text-green-600 { color: #059669 !important; font-weight: 500; } /* green-600 */
/* Subtle background for AI feedback in instructions */
.instructions-content .text-purple-700 { background-color: rgba(237, 233, 254, 0.3); border-radius: 4px; padding: 2px 4px; } /* purple-50 at 30% opacity */

/* --- Minimized card rating indicator (Keep as is) --- */
.rating-indicator { display: inline-block; width: 0.75rem; height: 0.75rem; border-radius: 9999px; margin-left: 0.25rem; }
.rating-indicator-1, .rating-indicator-2, .rating-indicator-3 { background-color: #ef4444; } /* red-500 */
.rating-indicator-4, .rating-indicator-5 { background-color: #f97316; } /* orange-500 */
.rating-indicator-6, .rating-indicator-7 { background-color: #facc15; } /* yellow-400 */
.rating-indicator-8, .rating-indicator-9 { background-color: #84cc16; } /* lime-500 */
.rating-indicator-10 { background-color: #059669; } /* green-600 */

/* Rating gradient color stops (Keep as is or replace with utility classes) */
/* ... .rating-gradient-* rules ... */

/* --- Responsive styles --- */
@media (max-width: 640px) {
  .approach-toggle .flex, .data-toggle .flex { flex-direction: column; }
  .approach-toggle button, .data-toggle button { margin-bottom: 0.5rem; width: 100%; } /* Make buttons full width */

  /* Stack panels vertically on small screens */
  /* Ensure the parent flex container (.flex.flex-grow.h-full) in ContentArea changes direction */
  /* This might require adjustments in ContentArea component logic or classes */
  /* Example (Add sm:flex-row to ContentArea's div if using Tailwind for responsiveness) */
   .sm\:flex-row { flex-direction: row; } /* Add this if needed */
   /* Adjust panel widths for stacking */
   .w-half.px-4.py-2, .section-instruction-panel-replacement { /* Use a consistent class or style for right panel */
     width: 100% !important;
     min-width: 100%;
     height: auto !important; /* Allow height to adjust to content */
     overflow-y: visible !important; /* Prevent double scrollbars */
     min-height: 300px; /* Give some min height when stacked */
   }
}

/* --- Typing indicator animation (Keep as is) --- */
.typing-indicator { display: inline-flex; align-items: center; height: 24px; }
.typing-indicator span { height: 8px; width: 8px; margin: 0 1px; background-color: #6366F1; border-radius: 50%; display: inline-block; opacity: 0.6; }
.typing-indicator span:nth-child(1) { animation: typing 1s infinite 0s; }
.typing-indicator span:nth-child(2) { animation: typing 1s infinite 0.2s; }
.typing-indicator span:nth-child(3) { animation: typing 1s infinite 0.4s; }

/* --- Edit mode styles (Keep as is) --- */
.edit-mode-hover { background-color: #f9fafb !important; box-shadow: inset 0 0 0 1px #e5e7eb; }
.edit-mode-focused { background-color: #ffffff !important; box-shadow: inset 0 0 0 2px #93c5fd; } /* blue-300 */
.edit-icon { margin-left: auto; }
textarea::placeholder { color: #9ca3af; font-style: italic; } /* gray-400 */

/* --- Info icon styling (Keep as is) --- */
.info-icon-button { display: inline-flex; align-items: center; justify-content: center; width: 36px; height: 36px; border-radius: 50%; background-color: #EEF2FF; color: #4F46E5; font-size: 20px; font-weight: bold; cursor: pointer; border: none; transition: all 0.2s ease; margin: 0 4px; vertical-align: middle; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); } /* indigo-100 bg, indigo-600 text */
.info-icon-button:hover { background-color: #E0E7FF; transform: scale(1.1); box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15); } /* indigo-200 bg */

/* --- Layout Fixes & Cleanup --- */

/* REMOVED - Rely on flex layout in MainLayout/ContentArea and panel-specific overflow */
/* .w-half { width: 50%; } */

/* REMOVED - Define header height in component or via Tailwind */
/* header.bg-white.shadow-sm { ... } */
/* header.bg-white.shadow-sm .container { ... } */

/* REMOVED - Handled by flex layout in MainLayout */
/* .min-h-screen > .w-full { ... } */

/* REMOVED - Style footer directly in its component */
/* .text-center.text-gray-500.text-sm.mt-6.border-t { ... } */

/* REMOVED - Style chat window directly in its component */
/* .fixed.shadow-lg.bg-white.rounded-t-lg.overflow-hidden.transition-all { ... } */

/* --- CORRECTED/UPDATED --- */
/* Rule targeting LeftPanel */
/* Use Tailwind classes directly on the LeftPanel component instead for cleaner separation */
/* If keeping this rule, ensure it aligns with the flex layout */
.w-half.px-4.py-2 {
  flex-shrink: 0; /* Prevent shrinking */
  width: 50%; /* Define width */
  height: 100%; /* Take full height from flex parent */
  overflow-y: auto; /* Enable scrolling */
  padding: 1.5rem 1rem 3rem 1rem; /* Example padding: pt-6, px-4, pb-12 */
  box-sizing: border-box;
}

/* REMOVED - Right panel styled inline or with Tailwind */
/* .section-instruction-panel { ... } */
/* .section-instruction-panel .px-6 { ... } */
/* .instructions-content { ... } */

/* Keep this - prevents horizontal scroll on the whole page */
body, html {
  overflow-x: hidden;
}
